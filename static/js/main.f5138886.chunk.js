(this["webpackJsonpsimple-gantt-timeline"]=this["webpackJsonpsimple-gantt-timeline"]||[]).push([[0],[,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(6),r=a.n(o),c=(a(11),a(4)),s=a(1),u=a(3),d=(a(12),a(0));var f=function(e){var t,a,n=e.previous,i=e.next;return n=null!==(t=n)&&void 0!==t?t:function(e){},i=null!==(a=i)&&void 0!==a?a:function(e){},Object(d.jsxs)("div",{className:"Slider",children:[Object(d.jsx)("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),n()},children:Object(d.jsx)("i",{className:"arrow left"})}),Object(d.jsx)("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),i()},children:Object(d.jsx)("i",{className:"arrow right"})})]})},l=(a(14),["January","February","March","April","May","June","July","August","September","October","November","December"]);var D=function(e){var t=e.topOrigin,a=e.leftOrigin,n=e.maxSpread,i=e.dayWidth,o=e.dayOrigin,r=e.height,c=[],s=[];return Array(n).fill(0).forEach((function(e,n){var u=new Date(o.getTime()+864e5*n);s.push(Object(d.jsx)("div",{className:"time",style:{top:t+r,left:a+i*n,width:i,height:r},children:u.getDate()},n)),0!==n&&1!==u.getDate()||c.push(Object(d.jsx)("div",{className:"month",style:{top:t,left:a+i*n,width:i,height:r},children:l[u.getMonth()]},n))})),Object(d.jsxs)("div",{className:"TimeAxis",children:[c,s]})},h=0,v={},w={};function j(e){var t=e.clientX,a=e.clientY,n=new CustomEvent("updateposition",{detail:{x:t,y:a}});Object.values(v).forEach((function(e,t){e.dispatchEvent(n)}))}function b(){Object.keys(w).forEach((function(e,t){w[e]=!1}))}var m=function(e){var t,a;v[e]=null!==(t=v[e])&&void 0!==t?t:new EventTarget,w[e]=null!==(a=w[e])&&void 0!==a&&a;var i=Object(n.useState)([void 0,void 0]),o=Object(u.a)(i,2),r=o[0],c=o[1],s=Object(n.useCallback)((function(t){w[e]&&c([t.detail.x,t.detail.y])}),[e]);return Object(n.useEffect)((function(){return 0===h&&(window.addEventListener("mousemove",j),window.addEventListener("mouseup",b)),v[e].addEventListener("updateposition",s),h+=1,function(){v[e].removeEventListener("updateposition",s),0===(h-=1)&&(window.removeEventListener("mousemove",j),window.removeEventListener("mouseup",b))}}),[e,s]),[w[e]?r[0]:void 0,function(t){w[e]=t}]};a(15);var p=function(e){var t=e.width,a=e.height,i=e.handleKey,o=e.updateTaskHandle,r=m(i),c=Object(u.a)(r,2),s=c[0],f=c[1];return Object(n.useEffect)((function(){o(s)}),[s,o]),Object(d.jsx)("div",{onMouseDown:function(e){f(!0)},className:"TaskHandle",style:{width:t,height:a}})};a(16);var O=function(e){var t=e.name,a=e.absoluteTop,n=e.absoluteLeft,i=e.width,o=e.height,r=e.paddingLeft,c=e.taskKey,s=e.updateTask;function u(e,t){s(e,t)}return Object(d.jsxs)("div",{className:"Task",onClick:function(e){e.preventDefault(),e.stopPropagation()},style:{top:a,left:n,width:i,height:o},children:[Object(d.jsx)(p,{handleKey:"".concat(c,":left"),width:10,height:o,updateTaskHandle:function(e){return u("left",e)}}),Object(d.jsx)("div",{className:"text-container",style:{"padding-left":r},children:t}),Object(d.jsx)(p,{handleKey:"".concat(c,":right"),width:10,height:o,updateTaskHandle:function(e){return u("right",e)}})]})};a(17);var g=function(e){var t=e.name,a=e.absoluteTop,n=e.absoluteLeft,i=e.width,o=e.height,r=e.paddingLeft,c=e.setName;return Object(d.jsx)("div",{className:"EmptyTask",onClick:function(e){e.preventDefault(),e.stopPropagation()},style:{top:a,left:n,width:i,height:o,"padding-left":r},children:Object(d.jsx)("input",{value:t,onChange:function(e){e.preventDefault(),e.stopPropagation(),c(e.target.value)},type:"text",placeholder:"Write a task name"})})};a(18);var T=function(e){var t=e.absoluteTop,a=e.absoluteLeft,n=e.width,i=e.height,o=e.dayWidth,r=e.taskHeigh,c=e.createTask;return Object(d.jsx)("div",{className:"TaskCreator",onClick:function(e){e.preventDefault(),e.stopPropagation();var t=e.nativeEvent.offsetX,a=e.nativeEvent.offsetY,n=Math.floor(t/o),i=Math.floor(a/r);c(n,i)},style:{top:t,left:a,width:n,height:i}})};a(19);var k=function(e,t){var a=new Date(e),n=new Date(t);return a.setUTCHours(0),a.setUTCMinutes(0),a.setUTCSeconds(0),a.setUTCMilliseconds(0),n.setUTCHours(0),n.setUTCMinutes(0),n.setUTCSeconds(0),n.setUTCMilliseconds(0),Math.floor((n.getTime()-a.getTime())/864e5)};var x=function(e){e.mouseEvent;var t,a=e.fromDate,i=e.topOrigin,o=e.leftOrigin,r=e.maxSpread,c=e.dayWidth,f=e.taskHeigh,l=e.store,D=e.editStoreTask;D=null!==(t=D)&&void 0!==t?t:function(e){};var h=Object(n.useState)({}),v=Object(u.a)(h,2),w=v[0],j=v[1],b=Object(n.useState)({}),m=Object(u.a)(b,2),p=m[0],x=m[1],S=new Date(a.getTime()),y={},N={},I=[];function E(e,t){for(var a=k(S,e.StartDate),n=k(e.StartDate,e.DueDate)+1,u=e.row,D=a,h=0;h<n;h++)y["".concat(D+h,":").concat(u)]=e.Id;N[e.Id]={column:D,row:u,spread:n},D+n-1>=0&&D<r&&I.push(Object(d.jsx)(t,{taskKey:"Task-".concat(e.Id),name:e.Name,absoluteTop:i+f*u,absoluteLeft:o+c*D,width:c*n,height:f,paddingLeft:-Math.min(D,0)*c,setName:function(e){return j(Object(s.a)(Object(s.a)({},w),{},{Name:e}))},updateTask:function(t,a){return function(e,t,a){if(!e||!t||!a)return;var n;if(p.Id===e)n=Object(s.a)({},p);else for(var i=0;i<l.length;i++)if(l[i].Id===e){n=Object(s.a)({},l[i]);break}var r=N[e].column,u=N[e].column+N[e].spread-1,d=N[e].row,f=Math.floor((a-o)/c);if("left"===t){if(f>u)return;for(var D=Math.min(f,r);D<=Math.max(f,r);D++)if(y["".concat(D,":").concat(d)]&&y["".concat(D,":").concat(d)]!==e)return;x(Object(s.a)(Object(s.a)({},n),{},{StartDate:new Date(n.StartDate.getTime()+864e5*(f-r))}))}else if("right"===t){if(f<r)return;for(var h=Math.min(f,u);h<=Math.max(f,u);h++)if(y["".concat(h,":").concat(d)]&&y["".concat(h,":").concat(d)]!==e)return;x(Object(s.a)(Object(s.a)({},n),{},{DueDate:new Date(n.DueDate.getTime()+864e5*(f-u))}))}return}(e.Id,t,a)}},"".concat(D,"-").concat(u)))}return l.forEach((function(e,t){p.Id===e.Id?E(p,O):E(e,O)})),w.StartDate&&w.DueDate&&E(w,g),Object(d.jsxs)("div",{onMouseUp:function(){!function(){if(!p.Id||!p.Name||!p.StartDate||!p.DueDate)return;D(Object(s.a)({},p))}(),x({})},className:"Timeline",children:[Object(d.jsx)(T,{absoluteTop:i,absoluteLeft:o,width:c*r,dayWidth:c,taskHeigh:f,createTask:function(e,t){if(w.StartDate&&w.DueDate)return function(){if(w.Name&&w.StartDate&&w.DueDate){var e=Date.now();D(Object(s.a)(Object(s.a)({},w),{},{Id:e}))}}(),void j({});var a=0;for(a=0;a<5&&!y["".concat(e+a,":").concat(t)];a++);0!==a&&j({Name:"",StartDate:new Date(S.getTime()+864e5*e),DueDate:new Date(S.getTime()+864e5*(e+a-1)),row:t})}}),I]})};var S=function(e){var t={},a={};return Object.values(e).forEach((function(e,n){var i=k(new Date,e.StartDate),o=k(e.StartDate,e.DueDate)+1,r=-1,c=i;if(e.row){for(var u=!1,d=0;d<o;d++)if(a["".concat(c+d,":").concat(e.row)]){u=!0;break}u||(r=e.row)}if(-1===r){var f=0,l=!1;do{l=!1;for(var D=0;D<o;D++)if(a["".concat(c+D,":").concat(f)]){l=!0;break}f+=1}while(l&&f<100);r=f-1}for(var h=0;h<o;h++)a["".concat(c+h,":").concat(r)]=e.Id;t[e.Id]=Object(s.a)(Object(s.a)({},e),{},{row:r})})),t},y={1:{Id:"1",Name:"Task 1",StartDate:new Date(Date.now()-1728e5),DueDate:new Date(Date.now()+864e5)},2:{Id:"2",Name:"Task 2",StartDate:new Date(Date.now()-864e5),DueDate:new Date(Date.now()+1728e5)},3:{Id:"3",Name:"Task 3",StartDate:new Date(Date.now()-864e5),DueDate:new Date(Date.now()+864e5)},4:{Id:"4",Name:"Task 4",StartDate:new Date(Date.now()+864e5),DueDate:new Date(Date.now()+864e5)},5:{Id:"5",Name:"Task 5",StartDate:new Date(Date.now()),DueDate:new Date(Date.now())},6:{Id:"6",Name:"Task 6",StartDate:new Date(Date.now()-864e5),DueDate:new Date(Date.now()-864e5)},7:{Id:"7",Name:"Task 7",StartDate:new Date(Date.now()+216e7),DueDate:new Date(Date.now()+3024e6)},8:{Id:"8",Name:"Task 8",StartDate:new Date(Date.now()-864e6),DueDate:new Date(Date.now()-432e6)}};a(20);var N=function(){var e=Object(n.useState)(S(y)),t=Object(u.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)(new Date(Date.now()-6048e5)),r=Object(u.a)(o,2),l=r[0],h=r[1],v=window.innerWidth,w=Math.floor(v/80);return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(f,{previous:function(e){return h(new Date(l.getTime()-864e5))},next:function(e){return h(new Date(l.getTime()+864e5))}}),Object(d.jsx)(D,{topOrigin:100,leftOrigin:0,maxSpread:w,dayWidth:80,dayOrigin:l,height:50}),Object(d.jsx)(x,{fromDate:l,topOrigin:200,leftOrigin:0,maxSpread:w,dayWidth:80,taskHeigh:50,store:Object.values(a),editStoreTask:function(e){e.Id&&e.Name&&e.StartDate&&e.DueDate&&i(Object(s.a)(Object(s.a)({},a),{},Object(c.a)({},e.Id,Object(s.a)({},e))))}})]})},I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,22)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,o=t.getLCP,r=t.getTTFB;a(e),n(e),i(e),o(e),r(e)}))};r.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(N,{})}),document.getElementById("root")),I()}],[[21,1,2]]]);
//# sourceMappingURL=main.f5138886.chunk.js.map