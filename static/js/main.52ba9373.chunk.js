(this["webpackJsonpsimple-gantt-timeline"]=this["webpackJsonpsimple-gantt-timeline"]||[]).push([[0],[,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),c=a(6),i=a.n(c),r=(a(11),a(4)),s=a(2),u=a(3),d=(a(12),a(0));var f=function(e){var t,a,n=e.previous,o=e.next;return n=null!==(t=n)&&void 0!==t?t:function(e){},o=null!==(a=o)&&void 0!==a?a:function(e){},Object(d.jsxs)("div",{className:"Slider",children:[Object(d.jsx)("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),n()},children:Object(d.jsx)("i",{className:"arrow left"})}),Object(d.jsx)("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),o()},children:Object(d.jsx)("i",{className:"arrow right"})})]})};a(14);var l=function(e,t){var a=new Date(e),n=new Date(t);return a.setUTCHours(0),a.setUTCMinutes(0),a.setUTCSeconds(0),a.setUTCMilliseconds(0),n.setUTCHours(0),n.setUTCMinutes(0),n.setUTCSeconds(0),n.setUTCMilliseconds(0),Math.floor((n.getTime()-a.getTime())/864e5)},D=["January","February","March","April","May","June","July","August","September","October","November","December"];var h=function(e){var t=e.topOrigin,a=e.leftOrigin,n=e.maxSpread,o=e.dayWidth,c=e.dayOrigin,i=e.height,r=[],s=[],u=[],f=[];return Array(n+1).fill(0).forEach((function(e,n){n-=1;var h=new Date(c.getTime()+864e5*n);s.push(Object(d.jsx)("div",{className:"time".concat(5===h.getDay()||6===h.getDay()?" weekendday":""),style:{top:t+i,left:a+o*n,width:o,height:i},children:h.getDate()},"date-".concat(n))),0===l(h,new Date)&&(u.push(Object(d.jsx)("div",{className:"todaymarker",style:{top:t+2*i,left:a+o*n+o/2}},"todaymarker-".concat(n))),u.push(Object(d.jsx)("div",{className:"todaystrip",style:{top:t+2*i,left:a+o*n+o/2}},"todaystrip-".concat(n)))),5===h.getDay()&&f.push(Object(d.jsx)("div",{className:"weekend",style:{top:t+i,left:a+o*n,width:2*o}},"weekends-".concat(n))),0!==n&&1!==h.getDate()||r.push(Object(d.jsx)("div",{className:"month",style:{top:t,left:a+o*n,height:i},children:D[h.getMonth()]},"month-".concat(n)))})),Object(d.jsxs)("div",{className:"TimeAxis",children:[Object(d.jsx)("div",{className:"timebackground",style:{top:t+2*i,left:a}}),f,r,s,u]})},j=0,v={},b={};function w(e){var t=e.clientX,a=e.clientY,n=new CustomEvent("updateposition",{detail:{x:t,y:a}});Object.values(v).forEach((function(e,t){e.dispatchEvent(n)}))}function m(){Object.keys(b).forEach((function(e,t){b[e]=!1}))}var p=function(e){var t,a;v[e]=null!==(t=v[e])&&void 0!==t?t:new EventTarget,b[e]=null!==(a=b[e])&&void 0!==a&&a;var o=Object(n.useState)([0,0]),c=Object(u.a)(o,2),i=c[0],r=c[1],s=Object(n.useCallback)((function(t){var a=[t.detail.x,t.detail.y];b[e]&&r(a)}),[e]);return Object(n.useEffect)((function(){return 0===j&&(window.addEventListener("mousemove",w),window.addEventListener("mouseup",m)),v[e].addEventListener("updateposition",s),j+=1,function(){v[e].removeEventListener("updateposition",s),0===(j-=1)&&(window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",m))}}),[e,s]),[b[e]?i[0]:void 0,b[e]?i[1]:void 0,function(t){b[e]=t}]};a(15);var O=function(e){e.width;var t=e.height,a=e.handleKey,o=e.updateTaskHandle,c=e.isLeft,i=p(a),r=Object(u.a)(i,3),s=r[0],f=r[2];return Object(n.useEffect)((function(){o(s)}),[s,o]),Object(d.jsx)("div",{onMouseDown:function(e){f(!0)},className:"TaskHandle ".concat(c?"handleleft":"handleright"),style:{height:t}})};a(16);var g=function(e){var t=e.name,a=e.absoluteTop,o=e.absoluteLeft,c=e.width,i=e.height,r=e.paddingLeft,s=e.taskKey,f=e.updateTask,l=e.launchEditTaskObject,D=p(s),h=Object(u.a)(D,3),j=h[0],v=h[1],b=h[2];function w(e,t){f(e,t,0)}return Object(n.useEffect)((function(){f("all",j,v)}),[j,v,f]),Object(d.jsxs)("div",{className:"Task",onClick:function(e){e.preventDefault(),e.stopPropagation(),l()},style:{top:a,left:o,width:c,height:i},children:[Object(d.jsx)(O,{isLeft:!0,handleKey:"".concat(s,":left"),width:10,height:i,updateTaskHandle:function(e){return w("left",e)}}),Object(d.jsx)("div",{className:"text-container",onMouseDown:function(e){b(!0)},style:{"padding-left":r},children:t}),Object(d.jsx)(O,{handleKey:"".concat(s,":right"),width:10,height:i,updateTaskHandle:function(e){return w("right",e)}})]})};a(17);var k=function(e){var t=e.name,a=e.absoluteTop,o=e.absoluteLeft,c=e.width,i=e.height,r=e.paddingLeft,s=e.setName,u=Object(n.useRef)(null);return Object(n.useEffect)((function(){u.current.focus()})),Object(d.jsx)("div",{className:"Task EmptyTask",onClick:function(e){e.preventDefault(),e.stopPropagation()},style:{top:a,left:o,width:c,height:i,"padding-left":r},children:Object(d.jsx)("input",{className:"emptytaskname",ref:u,value:t,onChange:function(e){e.preventDefault(),e.stopPropagation(),s(e.target.value)},type:"text",placeholder:"Write a task name"})})};a(18);var T=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),o=a[0],c=a[1],i=Object(n.useCallback)((function(t){t.key===e&&c(!0)}),[e]),r=Object(n.useCallback)((function(t){t.key===e&&c(!1)}),[e]);return Object(n.useEffect)((function(){return window.addEventListener("keydown",i),window.addEventListener("keyup",r),function(){window.removeEventListener("keydown",i),window.removeEventListener("keyup",r)}}),[i,r]),o};var y=function(e){var t=e.absoluteTop,a=e.absoluteLeft,o=e.width,c=e.height,i=e.dayWidth,r=e.taskHeigh,s=e.createTask,u=T("Enter");return Object(n.useEffect)((function(){u&&s()}),[u,s]),Object(d.jsx)("div",{className:"TaskCreator",onClick:function(e){e.preventDefault(),e.stopPropagation();var t=e.nativeEvent.offsetX,a=e.nativeEvent.offsetY,n=Math.floor(t/i),o=Math.floor(a/r);s(n,o)},tabIndex:0,style:{top:t,left:a,width:o,height:c}})};a(19);var x=function(e){var t=e.taskObject,a=e.editTaskObject;return Object(d.jsx)("div",{onMouseUp:function(e){e.preventDefault(),e.stopPropagation()},className:"EditTaskPanel".concat(t.Id?" visible":""),children:t.Id&&Object(d.jsx)("input",{className:"taskname",value:t.Name,onChange:function(e){e.preventDefault(),e.stopPropagation(),a(Object(s.a)(Object(s.a)({},t),{},{Name:e.target.value}))},type:"text",placeholder:"Write a task name"})})};a(20),Math.pow(100,2);var S=function(e){e.mouseEvent;var t,a=e.fromDate,o=e.topOrigin,c=e.leftOrigin,i=e.maxSpread,r=e.dayWidth,f=e.taskHeigh,D=e.store,h=e.editStoreTask;h=null!==(t=h)&&void 0!==t?t:function(e){};var j=Object(n.useState)({}),v=Object(u.a)(j,2),b=v[0],w=v[1],m=Object(n.useState)({}),p=Object(u.a)(m,2),O=p[0],T=p[1],S=Object(n.useState)(!1),N=Object(u.a)(S,2),E=N[0],I=N[1],M=new Date(a.getTime()),C={},L={},P=[];function H(e){var t;if(O.Id===e)t=Object(s.a)({},O);else for(var a=0;a<D.length;a++)if(D[a].Id===e){t=Object(s.a)({},D[a]);break}return t}function U(e,t){for(var a=l(M,e.StartDate),n=l(e.StartDate,e.DueDate)+1,u=e.row,D=a,h=0;h<n;h++)C["".concat(D+h,":").concat(u)]=e.Id;L[e.Id]={column:D,row:u,spread:n},D+n-1>=0&&D<i&&P.push(Object(d.jsx)(t,{taskKey:"Task-".concat(e.Id),name:e.Name,absoluteTop:o+f*u,absoluteLeft:c+r*D,width:r*n,height:f,paddingLeft:-Math.min(D,0)*r,setName:function(e){return w(Object(s.a)(Object(s.a)({},b),{},{Name:e}))},updateTask:function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return A.apply(void 0,[e.Id].concat(a))},launchEditTaskObject:function(){return function(e){if(W())return;var t=H(e);I(!0),T(t)}(e.Id)}},"".concat(D,"-").concat(u)))}function W(){return b.StartDate&&b.DueDate?(function(){if(b.Name&&b.StartDate&&b.DueDate){var e=Date.now();h(Object(s.a)(Object(s.a)({},b),{},{Id:e}))}}(),w({}),!0):!!O.Id&&(E&&I(!1),O.Id&&O.Name&&O.StartDate&&O.DueDate&&h(Object(s.a)({},O)),T({}),!0)}function A(e,t,a,n){if(e&&t&&(a||n)){var i=H(e),u=L[e].column,d=L[e].column+L[e].spread-1,l=L[e].row;if("left"===t){var D=Math.floor((a-c-r/2)/r);if(D>d||D-u===0)return;for(var h=Math.min(D,u);h<=Math.max(D,u);h++)if(C["".concat(h,":").concat(l)]&&C["".concat(h,":").concat(l)]!==e)return;T(Object(s.a)(Object(s.a)({},i),{},{StartDate:new Date(i.StartDate.getTime()+864e5*(D-u))}))}else if("right"===t){var j=Math.floor((a-c-r/2)/r);if(j<u||j-d===0)return;for(var v=Math.min(j,d);v<=Math.max(j,d);v++)if(C["".concat(v,":").concat(l)]&&C["".concat(v,":").concat(l)]!==e)return;T(Object(s.a)(Object(s.a)({},i),{},{DueDate:new Date(i.DueDate.getTime()+864e5*(j-d))}))}else if("all"===t){var b=Math.floor((a-c)/r),w=Math.floor((n-o)/f),m=Math.floor(b-(d+u)/2);if(w<0||m+(w-l)===0)return;for(var p=u+m;p<=d+m;p++)if(C["".concat(p,":").concat(w)]&&C["".concat(p,":").concat(w)]!==e)return;T(Object(s.a)(Object(s.a)({},i),{},{StartDate:new Date(i.StartDate.getTime()+864e5*m),DueDate:new Date(i.DueDate.getTime()+864e5*m),row:w}))}}}return D.forEach((function(e,t){O.Id===e.Id?U(O,g):U(e,g)})),b.StartDate&&b.DueDate&&U(b,k),Object(d.jsxs)("div",{onMouseUp:function(){!E&&O.Id&&W()},className:"Timeline",children:[Object(d.jsx)(y,{absoluteTop:o,absoluteLeft:c,width:r*i,dayWidth:r,taskHeigh:f,createTask:function(e,t){if(!W()&&e&&t){var a=0;for(a=0;a<5&&!C["".concat(e+a,":").concat(t)];a++);0!==a&&w({Name:"",StartDate:new Date(M.getTime()+864e5*e),DueDate:new Date(M.getTime()+864e5*(e+a-1)),row:t})}}}),P,Object(d.jsx)(x,{taskObject:E?O:{},editTaskObject:function(e){T(e)}})]})};var N=function(e){var t={},a={};return Object.values(e).forEach((function(e,n){var o=l(new Date,e.StartDate),c=l(e.StartDate,e.DueDate)+1,i=-1,r=o;if(e.row){for(var u=!1,d=0;d<c;d++)if(a["".concat(r+d,":").concat(e.row)]){u=!0;break}u||(i=e.row)}if(-1===i){var f=0,D=!1;do{D=!1;for(var h=0;h<c;h++)if(a["".concat(r+h,":").concat(f)]){D=!0;break}f+=1}while(D&&f<100);i=f-1}for(var j=0;j<c;j++)a["".concat(r+j,":").concat(i)]=e.Id;t[e.Id]=Object(s.a)(Object(s.a)({},e),{},{row:i})})),t},E={1:{Id:"1",Name:"Task 1",StartDate:new Date(Date.now()-1728e5),DueDate:new Date(Date.now()+864e5)},2:{Id:"2",Name:"Task 2",StartDate:new Date(Date.now()-864e5),DueDate:new Date(Date.now()+1728e5)},3:{Id:"3",Name:"Task 3",StartDate:new Date(Date.now()-864e5),DueDate:new Date(Date.now()+864e5)},4:{Id:"4",Name:"Task 4",StartDate:new Date(Date.now()+864e5),DueDate:new Date(Date.now()+864e5)},5:{Id:"5",Name:"Task 5",StartDate:new Date(Date.now()),DueDate:new Date(Date.now())},6:{Id:"6",Name:"Task 6",StartDate:new Date(Date.now()-864e5),DueDate:new Date(Date.now()-864e5)},7:{Id:"7",Name:"Task 7",StartDate:new Date(Date.now()+216e7),DueDate:new Date(Date.now()+3024e6)},8:{Id:"8",Name:"Task 8",StartDate:new Date(Date.now()-864e6),DueDate:new Date(Date.now()-432e6)}};a(21);var I=function(){var e=Object(n.useState)(N(E)),t=Object(u.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(new Date(Date.now()-6048e5)),i=Object(u.a)(c,2),l=i[0],D=i[1],j=window.innerWidth,v=Math.floor(j/64);return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(f,{previous:function(e){return D(new Date(l.getTime()-864e5))},next:function(e){return D(new Date(l.getTime()+864e5))}}),Object(d.jsx)(h,{topOrigin:68,leftOrigin:0,maxSpread:v,dayWidth:64,dayOrigin:l,height:34}),Object(d.jsx)(S,{fromDate:l,topOrigin:136,leftOrigin:0,maxSpread:v,dayWidth:64,taskHeigh:34,store:Object.values(a),editStoreTask:function(e){e.Id&&e.Name&&e.StartDate&&e.DueDate&&o(Object(s.a)(Object(s.a)({},a),{},Object(r.a)({},e.Id,Object(s.a)({},e))))}})]})},M=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,23)).then((function(t){var a=t.getCLS,n=t.getFID,o=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),o(e),c(e),i(e)}))};i.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(I,{})}),document.getElementById("root")),M()}],[[22,1,2]]]);
//# sourceMappingURL=main.52ba9373.chunk.js.map